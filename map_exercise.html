<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Map</title>
    <script src="https://cdn.jsdelivr.net/npm/d3@7"></script>
</head>
<body>
    
</body>
<script>
    const width = 1000;
    const height = 1000;

    // create svg
    const svg = d3.select('body')
        .append('svg')
        .attr('width', width)
        .attr('height', height);

    // load data
    d3.json('https://gist.githubusercontent.com/sdwfrost/d1c73f91dd9d175998ed166eb216994a/raw/e89c35f308cee7e2e5a784e1d3afc5d449e9e4bb/counties.geojson')
    .then(geo=>{
        // go to the console to see the structure of the data
        console.log(geo);

        // filter the data to only include North Carolina
        const ncData = geo.features.filter(feature => feature.properties.STATEFP === "37");


        // create a projection
        const projection = d3.geoAlbersUsa()
        .fitSize([width, height], { type: "FeatureCollection", features: ncData });

        // define the geoPath function, which is used to generate the path data for counties
        const path = d3.geoPath().projection(projection);

        // draw the map, with tooltips for each county
        svg.selectAll('path')
        .data(ncData)
        .join('path')
        .attr('d', path)
        .attr('stroke', 'black')
        .attr('fill', 'lightblue')
        .append("title")
        .text(d => d.properties.NAME);
    })
</script>
</html>